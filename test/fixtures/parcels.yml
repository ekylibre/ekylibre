# = Informations
#
# == License
#
# Ekylibre - Simple agricultural ERP
# Copyright (C) 2008-2009 Brice Texier, Thibaud Merigon
# Copyright (C) 2010-2012 Brice Texier
# Copyright (C) 2012-2014 Brice Texier, David Joulin
# Copyright (C) 2015-2019 Ekylibre SAS
#
# This program is free software: you can redistribute it and/or modify
# it under the terms of the GNU Affero General Public License as published by
# the Free Software Foundation, either version 3 of the License, or
# any later version.
#
# This program is distributed in the hope that it will be useful,
# but WITHOUT ANY WARRANTY; without even the implied warranty of
# MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
# GNU Affero General Public License for more details.
#
# You should have received a copy of the GNU Affero General Public License
# along with this program.  If not, see http://www.gnu.org/licenses.
#
# == Table: parcels
#
#  accounted_at                         :datetime
#  address_id                           :integer
#  contract_id                          :integer
#  created_at                           :datetime         not null
#  creator_id                           :integer
#  currency                             :string
#  custom_fields                        :jsonb
#  delivery_id                          :integer
#  delivery_mode                        :string
#  given_at                             :datetime
#  id                                   :integer          not null, primary key
#  in_preparation_at                    :datetime
#  journal_entry_id                     :integer
#  lock_version                         :integer          default(0), not null
#  nature                               :string           not null
#  number                               :string           not null
#  ordered_at                           :datetime
#  planned_at                           :datetime         not null
#  position                             :integer
#  prepared_at                          :datetime
#  pretax_amount                        :decimal(19, 4)   default(0.0), not null
#  purchase_id                          :integer
#  recipient_id                         :integer
#  reference_number                     :string
#  remain_owner                         :boolean          default(FALSE), not null
#  responsible_id                       :integer
#  sale_id                              :integer
#  sender_id                            :integer
#  separated_stock                      :boolean
#  state                                :string           not null
#  storage_id                           :integer
#  transporter_id                       :integer
#  undelivered_invoice_journal_entry_id :integer
#  updated_at                           :datetime         not null
#  updater_id                           :integer
#  with_delivery                        :boolean          default(FALSE), not null
#
---
parcels_001:
  address_id: 12
  created_at: 2014-11-05 14:15:20.016507000 Z
  creator_id: 1
  delivery_id: 3
  delivery_mode: transporter
  given_at: 2014-11-05 15:14:00.754740000 Z
  id: 1
  lock_version: 1
  nature: outgoing
  number: BL2014000002
  planned_at: 2014-11-05 14:15:20.016507000 Z
  pretax_amount: 0.0
  recipient_id: 13
  remain_owner: false
  state: draft
  transporter_id: 4
  updated_at: 2014-11-05 15:14:00.950218000 Z
  updater_id: 1
  with_delivery: true
parcels_002:
  address_id: 7
  created_at: 2014-11-05 14:16:19.773131000 Z
  creator_id: 1
  delivery_id: 3
  delivery_mode: transporter
  given_at: 2014-11-05 15:14:00.754740000 Z
  id: 2
  lock_version: 1
  nature: outgoing
  number: BL2014000003
  planned_at: 2014-11-05 14:16:19.773131000 Z
  pretax_amount: 0.0
  recipient_id: 11
  remain_owner: false
  state: given
  transporter_id: 4
  updated_at: 2014-11-05 15:14:00.962449000 Z
  updater_id: 1
  with_delivery: true
parcels_003:
  address_id: 12
  created_at: 2014-11-05 14:16:48.643201000 Z
  creator_id: 1
  delivery_id: 15
  delivery_mode: us
  given_at: 2014-11-03 03:20:00.000000000 Z
  id: 3
  lock_version: 0
  nature: outgoing
  number: BL2014000004
  planned_at: 2014-11-05 14:16:48.643201000 Z
  pretax_amount: 0.0
  recipient_id: 13
  remain_owner: false
  state: given
  updated_at: 2014-11-05 14:16:48.643201000 Z
  updater_id: 1
  with_delivery: true
parcels_004:
  address_id: 8
  created_at: 2014-11-07 14:13:05.515052000 Z
  creator_id: 1
  delivery_mode: transporter
  id: 4
  lock_version: 0
  nature: outgoing
  number: BL2014000005
  planned_at: 2014-11-07 14:13:05.515052000 Z
  pretax_amount: 0.0
  recipient_id: 8
  remain_owner: false
  state: in_preparation
  transporter_id: 9
  updated_at: 2014-11-07 14:13:05.515052000 Z
  updater_id: 1
  with_delivery: true
parcels_005:
  address_id: 3
  created_at: 2014-10-31 17:19:32.000000000 Z
  creator_id: 1
  delivery_id: 4
  delivery_mode: third
  given_at: 2014-10-24 17:19:32.000000000 Z
  id: 5
  lock_version: 0
  nature: incoming
  number: INDEL000001
  planned_at: 2014-10-31 17:19:32.000000000 Z
  pretax_amount: 0.0
  remain_owner: false
  sender_id: 6
  state: given
  storage_id: 115
  updated_at: 2014-10-31 17:19:32.000000000 Z
  updater_id: 1
  with_delivery: true
parcels_006:
  address_id: 3
  created_at: 2014-10-31 17:19:32.000000000 Z
  creator_id: 1
  delivery_id: 6
  delivery_mode: third
  given_at: 2014-11-06 08:45:00.000000000 Z
  id: 6
  lock_version: 1
  nature: incoming
  number: INDEL000002
  planned_at: 2014-10-31 17:19:32.000000000 Z
  pretax_amount: 0.0
  reference_number: ''
  remain_owner: false
  sender_id: 4
  state: given
  storage_id: 21
  updated_at: 2014-11-01 16:01:24.150621000 Z
  updater_id: 1
  with_delivery: true
parcels_007:
  address_id: 3
  created_at: 2014-10-31 17:19:32.000000000 Z
  creator_id: 1
  delivery_id: 5
  delivery_mode: third
  given_at: 2014-10-14 17:19:32.000000000 Z
  id: 7
  lock_version: 0
  nature: incoming
  number: INDEL000003
  planned_at: 2014-10-31 17:19:32.000000000 Z
  pretax_amount: 0.0
  remain_owner: false
  sender_id: 6
  state: given
  storage_id: 115
  updated_at: 2014-10-31 17:19:32.000000000 Z
  updater_id: 1
  with_delivery: true
parcels_008:
  address_id: 3
  created_at: 2014-10-31 20:23:37.027824000 Z
  creator_id: 1
  delivery_id: 7
  delivery_mode: third
  given_at: 2014-10-31 20:09:00.000000000 Z
  id: 8
  lock_version: 0
  nature: incoming
  number: INDEL000004
  planned_at: 2014-10-31 20:23:37.027824000 Z
  pretax_amount: 0.0
  reference_number: '1282'
  remain_owner: false
  sender_id: 4
  state: given
  storage_id: 20
  updated_at: 2014-10-31 20:23:37.027824000 Z
  updater_id: 1
  with_delivery: true
parcels_009:
  address_id: 3
  created_at: 2014-11-01 16:00:08.015634000 Z
  creator_id: 1
  delivery_id: 8
  delivery_mode: third
  given_at: 2014-10-31 20:31:00.000000000 Z
  id: 9
  lock_version: 0
  nature: incoming
  number: BR20140001
  planned_at: 2014-11-01 16:00:08.015634000 Z
  pretax_amount: 0.0
  reference_number: DFS1282
  remain_owner: false
  sender_id: 4
  state: given
  storage_id: 20
  updated_at: 2014-11-01 16:00:08.015634000 Z
  updater_id: 1
  with_delivery: true
parcels_010:
  address_id: 3
  created_at: 2014-11-01 19:29:58.086427000 Z
  creator_id: 1
  delivery_id: 9
  delivery_mode: third
  given_at: 2014-11-01 19:26:00.000000000 Z
  id: 10
  lock_version: 0
  nature: incoming
  number: RRCBR20140004
  planned_at: 2014-11-01 19:29:58.086427000 Z
  pretax_amount: 0.0
  reference_number: VD
  remain_owner: false
  sender_id: 4
  state: given
  storage_id: 21
  updated_at: 2014-11-01 19:29:58.086427000 Z
  updater_id: 1
  with_delivery: true
parcels_011:
  address_id: 3
  created_at: 2014-11-01 19:35:50.370591000 Z
  creator_id: 1
  delivery_id: 10
  delivery_mode: third
  given_at: 2014-11-01 19:33:00.000000000 Z
  id: 11
  lock_version: 0
  nature: incoming
  number: INWRRCBR20140007
  planned_at: 2014-11-01 19:35:50.370591000 Z
  pretax_amount: 0.0
  reference_number: EDSDFSF
  remain_owner: false
  sender_id: 5
  state: given
  storage_id: 21
  updated_at: 2014-11-01 19:35:50.370591000 Z
  updater_id: 1
  with_delivery: true
parcels_012:
  address_id: 3
  created_at: 2014-11-01 20:19:35.352913000 Z
  creator_id: 1
  delivery_id: 11
  delivery_mode: third
  given_at: 2013-08-01 00:50:00.000000000 Z
  id: 12
  lock_version: 1
  nature: incoming
  number: YINWRRCBR20140008
  planned_at: 2014-11-01 20:19:35.352913000 Z
  pretax_amount: 0.0
  reference_number: ''
  remain_owner: false
  sender_id: 8
  state: given
  storage_id: 21
  updated_at: 2014-11-01 20:23:54.910311000 Z
  updater_id: 1
  with_delivery: true
parcels_013:
  address_id: 9
  created_at: 2014-11-07 15:25:51.188992000 Z
  creator_id: 1
  delivery_id: 12
  delivery_mode: third
  given_at: 2012-11-03 15:24:00.000000000 Z
  id: 13
  lock_version: 0
  nature: incoming
  number: ID20140009
  planned_at: 2014-11-07 15:25:51.188992000 Z
  pretax_amount: 0.0
  reference_number: '2012110001458'
  remain_owner: false
  sender_id: 13
  state: given
  storage_id: 21
  updated_at: 2014-11-07 15:25:51.188992000 Z
  updater_id: 1
  with_delivery: true
parcels_014:
  address_id: 9
  created_at: 2014-11-07 15:44:20.453162000 Z
  creator_id: 1
  delivery_id: 13
  delivery_mode: third
  given_at: 2014-11-07 15:41:00.000000000 Z
  id: 14
  lock_version: 0
  nature: incoming
  number: ID20140010
  planned_at: 2014-11-07 15:44:20.453162000 Z
  pretax_amount: 0.0
  reference_number: '2007090001213'
  remain_owner: false
  sender_id: 13
  state: given
  storage_id: 21
  updated_at: 2014-11-07 15:44:20.453162000 Z
  updater_id: 1
  with_delivery: true
parcels_015:
  address_id: 9
  created_at: 2014-11-07 16:47:34.635509000 Z
  creator_id: 1
  delivery_id: 14
  delivery_mode: third
  given_at: 2008-03-05 09:00:00.000000000 Z
  id: 15
  lock_version: 1
  nature: incoming
  number: ID20140012
  planned_at: 2014-11-07 16:47:34.635509000 Z
  pretax_amount: 0.0
  purchase_id: 11
  reference_number: '2008030001215'
  remain_owner: false
  sender_id: 13
  state: given
  storage_id: 21
  updated_at: 2014-11-07 16:52:05.914027000 Z
  updater_id: 1
  with_delivery: true
parcels_016:
  address_id: 9
  created_at: 2014-11-07 19:05:46.884082000 Z
  creator_id: 1
  delivery_mode: third
  given_at: 2014-11-07 19:04:00.000000000 Z
  id: 16
  lock_version: 0
  nature: incoming
  number: ID20140013
  planned_at: 2014-11-07 19:05:46.884082000 Z
  pretax_amount: 0.0
  reference_number: '201210'
  remain_owner: false
  sender_id: 13
  state: draft
  storage_id: 21
  updated_at: 2014-11-07 19:05:46.884082000 Z
  updater_id: 1
  with_delivery: true
parcels_017:
  address_id: 9
  created_at: 2014-11-07 19:12:04.935666000 Z
  creator_id: 1
  delivery_mode: third
  given_at: 2013-10-01 18:10:00.000000000 Z
  id: 17
  lock_version: 0
  nature: incoming
  number: ID20140014
  planned_at: 2014-11-07 19:12:04.935666000 Z
  pretax_amount: 0.0
  reference_number: '2013100000546'
  remain_owner: false
  sender_id: 13
  state: draft
  storage_id: 21
  updated_at: 2014-11-07 19:12:04.935666000 Z
  updater_id: 1
  with_delivery: true
parcels_018:
  address_id: 9
  created_at: 2014-11-07 19:22:38.074904000 Z
  creator_id: 1
  delivery_mode: third
  given_at: 2013-10-03 18:18:00.000000000 Z
  id: 18
  lock_version: 0
  nature: incoming
  number: ID20140015
  planned_at: 2014-11-07 19:22:38.074904000 Z
  pretax_amount: 0.0
  reference_number: '2013100000598'
  remain_owner: false
  sender_id: 13
  state: draft
  storage_id: 21
  updated_at: 2014-11-07 19:22:38.074904000 Z
  updater_id: 1
  with_delivery: true
parcels_019:
  address_id: 9
  created_at: 2014-11-07 19:34:09.453724000 Z
  creator_id: 1
  delivery_mode: third
  given_at: 2013-10-15 10:30:00.000000000 Z
  id: 19
  lock_version: 0
  nature: incoming
  number: ID20140017
  planned_at: 2014-11-07 19:34:09.453724000 Z
  pretax_amount: 0.0
  reference_number: '2013100000750'
  remain_owner: false
  sender_id: 13
  state: draft
  storage_id: 21
  updated_at: 2014-11-07 19:34:09.453724000 Z
  updater_id: 1
  with_delivery: true
parcels_020:
  address_id: 9
  created_at: 2015-09-17 13:24:45.020171000 Z
  creator_id: 1
  delivery_mode: us
  id: 20
  lock_version: 0
  nature: outgoing
  number: P000000000001
  planned_at: 2015-09-17 13:24:00.000000000 Z
  position: 1
  pretax_amount: 0.0
  recipient_id: 11
  remain_owner: false
  state: draft
  storage_id: 118
  updated_at: 2015-09-17 13:24:45.020171000 Z
  updater_id: 1
  with_delivery: true
parcels_021:
  address_id: 12
  created_at: 2015-09-17 13:25:55.971246000 Z
  creator_id: 1
  delivery_id: 16
  delivery_mode: us
  given_at: 2015-09-17 13:40:58.044216000 Z
  id: 21
  in_preparation_at: 2015-09-17 13:32:22.193743000 Z
  lock_version: 4
  nature: outgoing
  number: P000000000002
  planned_at: 2015-09-16 22:00:00.000000000 Z
  position: 1
  prepared_at: 2015-09-17 13:38:07.151525000 Z
  pretax_amount: 0.0
  recipient_id: 15
  remain_owner: false
  sale_id: 16
  state: given
  updated_at: 2015-09-17 13:40:58.255575000 Z
  updater_id: 1
  with_delivery: true
parcels_022:
  address_id: 9
  created_at: 2016-07-01 19:23:38.962758000 Z
  creator_id: 1
  delivery_mode: us
  given_at: 2016-07-01 19:23:51.381970000 Z
  id: 22
  in_preparation_at: 2016-07-01 19:23:47.480571000 Z
  lock_version: 4
  nature: incoming
  number: P000000000003
  ordered_at: 2016-07-01 19:23:47.463155000 Z
  planned_at: 2016-06-30 22:00:00.000000000 Z
  position: 2
  prepared_at: 2016-07-01 19:23:47.522750000 Z
  pretax_amount: 0.0
  remain_owner: false
  sender_id: 14
  separated_stock: false
  state: given
  storage_id: 11
  updated_at: 2016-07-01 19:23:51.506082000 Z
  updater_id: 1
  with_delivery: false
parcels_023:
  address_id: 4
  created_at: 2016-07-01 20:13:19.527044000 Z
  creator_id: 1
  delivery_mode: us
  given_at: 2016-07-01 20:13:27.276170000 Z
  id: 23
  in_preparation_at: 2016-07-01 20:13:23.706054000 Z
  lock_version: 4
  nature: outgoing
  number: P000000000004
  ordered_at: 2016-07-01 20:13:23.689651000 Z
  planned_at: 2016-06-30 22:00:00.000000000 Z
  position: 3
  prepared_at: 2016-07-01 20:13:23.808717000 Z
  pretax_amount: 0.0
  recipient_id: 10
  remain_owner: false
  state: given
  updated_at: 2016-07-01 20:13:27.345557000 Z
  updater_id: 1
  with_delivery: false
parcels_024:
  address_id: 9
  created_at: 2016-07-01 20:23:17.503085000 Z
  creator_id: 1
  delivery_mode: third
  given_at: 2016-07-01 20:23:25.072310000 Z
  id: 24
  in_preparation_at: 2016-07-01 20:23:20.957531000 Z
  lock_version: 4
  nature: incoming
  number: P000000000005
  ordered_at: 2016-07-01 20:23:20.936798000 Z
  planned_at: 2016-06-30 22:00:00.000000000 Z
  position: 4
  prepared_at: 2016-07-01 20:23:20.986644000 Z
  pretax_amount: 0.0
  remain_owner: false
  sender_id: 8
  separated_stock: false
  state: given
  storage_id: 12
  updated_at: 2016-07-01 20:23:25.152288000 Z
  updater_id: 1
  with_delivery: false
parcels_025:
  address_id: 9
  created_at: 2016-08-10 14:27:46.127219000 Z
  creator_id: 1
  delivery_mode: third
  given_at: 2016-08-10 14:27:49.970014000 Z
  id: 25
  in_preparation_at: 2016-08-10 14:27:49.769632000 Z
  lock_version: 4
  nature: incoming
  number: P000000000006
  ordered_at: 2016-08-10 14:27:49.749506000 Z
  planned_at: 2016-08-10 14:26:00.000000000 Z
  position: 5
  prepared_at: 2016-08-10 14:27:49.798212000 Z
  pretax_amount: 0.0
  reference_number: ''
  remain_owner: false
  sender_id: 15
  separated_stock: false
  state: given
  storage_id: 21
  updated_at: 2016-08-10 14:27:50.028641000 Z
  updater_id: 1
  with_delivery: false
