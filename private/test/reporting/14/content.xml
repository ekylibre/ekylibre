<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="land_parcel_fertilization_list" language="groovy" pageWidth="842" pageHeight="595" orientation="Landscape" columnWidth="786" leftMargin="28" rightMargin="28" topMargin="28" bottomMargin="28" isTitleNewPage="true" whenResourceMissingType="Empty" uuid="9c1f11b7-03dd-4803-9e1b-41b87b9d23c0">
  <property name="ireport.zoom" value="1.0"/>
  <property name="ireport.x" value="0"/>
  <property name="ireport.y" value="375"/>
  <property name="com.jaspersoft.studio.data.defaultdataadapter" value="manure_management_plan"/>
  <template><![CDATA["/home/brice/Projets/ekylibre/erp/config/corporate_identity/reporting_style.xml"]]></template>
  <style name="Title" fontName="Open Sans" fontSize="30" isBold="true" pdfFontName="Open Sans"/>
  <style name="SubTitle" forecolor="#736343" fontName="Open Sans" fontSize="18"/>
  <style name="Column header" forecolor="#666666" fontName="Open Sans" fontSize="12" isBold="true"/>
  <style name="Detail" fontName="Open Sans" fontSize="12">
    <conditionalStyle>
      <conditionExpression><![CDATA[$F{dead-at} != null]]></conditionExpression>
      <style mode="Transparent" forecolor="#FF3333" fill="Solid" vAlign="Top" isBold="false" isItalic="false" isUnderline="false"/>
    </conditionalStyle>
    <conditionalStyle>
      <conditionExpression><![CDATA[$F{race-name}.contains("CROISE")]]></conditionExpression>
      <style mode="Opaque" backcolor="#FFFF00" fill="Solid" vAlign="Top" isBlankWhenNull="false" isBold="false" isItalic="false" isUnderline="false"/>
    </conditionalStyle>
  </style>
  <style name="Row" mode="Transparent"/>
  <style name="Crosstab Data Text" hAlign="Center"/>
  <subDataset name="land_parcel_input_real" uuid="ec5668ea-c9c2-4e0d-b4a5-1ab7de9cfcc7">
    <parameter name="cultivable_zone_id" class="java.lang.String"/>
    <parameter name="cultivable_zone_area" class="java.lang.Double"/>
    <queryString language="xPath"><![CDATA[/campaigns/campaign/zone/support/intervention/inputs/input[ancestor::zone/@id=$P{cultivable_zone_id}]]]></queryString>
    <field name="input" class="java.lang.String">
      <fieldDescription><![CDATA[id]]></fieldDescription>
    </field>
    <field name="input_nature" class="java.lang.String">
      <fieldDescription><![CDATA[nature-name]]></fieldDescription>
    </field>
    <field name="input_quantity" class="java.lang.String">
      <fieldDescription><![CDATA[quantity]]></fieldDescription>
    </field>
    <field name="input_quantity_in_kilogram" class="java.lang.Double">
      <fieldDescription><![CDATA[quantity-in-kilogram]]></fieldDescription>
    </field>
    <field name="input_variety" class="java.lang.String">
      <fieldDescription><![CDATA[variety]]></fieldDescription>
    </field>
    <field name="started_at" class="java.util.Date">
      <fieldDescription><![CDATA[ancestor::intervention/@started-at]]></fieldDescription>
    </field>
    <field name="stopped_at" class="java.util.Date">
      <fieldDescription><![CDATA[ancestor::intervention/@stopped-at]]></fieldDescription>
    </field>
    <field name="name" class="java.lang.String">
      <fieldDescription><![CDATA[ancestor::support/@variant-name]]></fieldDescription>
    </field>
    <field name="input_nitrogen_concentration" class="java.lang.String">
      <fieldDescription><![CDATA[nitrogen-concentration]]></fieldDescription>
    </field>
    <field name="input_nitrogen_concentration_in_unity" class="java.lang.Double">
      <fieldDescription><![CDATA[nitrogen-concentration-in-unity]]></fieldDescription>
    </field>
    <field name="input_phosphorus_concentration" class="java.lang.String">
      <fieldDescription><![CDATA[phosphorus-concentration]]></fieldDescription>
    </field>
    <field name="input_phosphorus_concentration_in_unity" class="java.lang.Double">
      <fieldDescription><![CDATA[phosphorus-concentration-in-unity]]></fieldDescription>
    </field>
    <field name="input_potassium_concentration" class="java.lang.String">
      <fieldDescription><![CDATA[potassium-concentration]]></fieldDescription>
    </field>
    <field name="input_potassium_concentration_in_unity" class="java.lang.Double">
      <fieldDescription><![CDATA[potassium-concentration-in-unity]]></fieldDescription>
    </field>
    <field name="input_variant_unit" class="java.lang.String">
      <fieldDescription><![CDATA[unit-name]]></fieldDescription>
    </field>
    <field name="input_name" class="java.lang.String">
      <fieldDescription><![CDATA[name]]></fieldDescription>
    </field>
    <field name="nitrogen_input_quantity_per_hectare" class="java.lang.Double">
      <fieldDescription><![CDATA[nitrogen-input-quantity-per-hectare]]></fieldDescription>
    </field>
    <field name="phosphorus_input_quantity_per_hectare" class="java.lang.Double">
      <fieldDescription><![CDATA[phosphorus-input-quantity-per-hectare]]></fieldDescription>
    </field>
    <field name="potassium_input_quantity_per_hectare" class="java.lang.Double">
      <fieldDescription><![CDATA[potassium-input-quantity-per-hectare]]></fieldDescription>
    </field>
    <field name="population" class="java.lang.Double">
      <fieldDescription><![CDATA[population]]></fieldDescription>
    </field>
    <sortField name="started_at"/>
    <variable name="total_prev_input_quantity" class="java.lang.Double" calculation="Sum">
      <variableExpression><![CDATA[$F{input_quantity_in_kilogram}.doubleValue()]]></variableExpression>
    </variable>
    <variable name="total_prev_nitrogen_quantity_per_area" class="java.lang.Double" calculation="Sum">
      <variableExpression><![CDATA[$F{nitrogen_input_quantity_per_hectare}]]></variableExpression>
    </variable>
    <variable name="total_prev_phosphorus_quantity_per_area" class="java.lang.Double" calculation="Sum">
      <variableExpression><![CDATA[$F{phosphorus_input_quantity_per_hectare}]]></variableExpression>
    </variable>
    <variable name="total_prev_potassium_quantity_per_area" class="java.lang.Double" calculation="Sum">
      <variableExpression><![CDATA[$F{potassium_input_quantity_per_hectare}]]></variableExpression>
    </variable>
  </subDataset>
  <subDataset name="pasturing" uuid="582ddc6a-88a3-496d-b1bb-0226d4969124">
    <parameter name="zone_id" class="java.lang.String"/>
    <parameter name="zone_area" class="java.lang.String"/>
    <queryString language="xPath"><![CDATA[/campaigns/campaign/zone/support/pasturing[ancestor::zone/@id=$P{zone_id}]]]></queryString>
    <field name="pasturing-working-area" class="java.lang.String">
      <fieldDescription><![CDATA[@pasturing-working-area]]></fieldDescription>
    </field>
    <field name="pasturing-period" class="java.lang.Double">
      <fieldDescription><![CDATA[@pasturing-period]]></fieldDescription>
    </field>
    <field name="animal-group-name" class="java.lang.String">
      <fieldDescription><![CDATA[@animal-group-name]]></fieldDescription>
    </field>
    <field name="animal-group-population" class="java.lang.String">
      <fieldDescription><![CDATA[@animal-group-population]]></fieldDescription>
    </field>
    <field name="id" class="java.lang.String">
      <fieldDescription><![CDATA[@id]]></fieldDescription>
    </field>
    <field name="name" class="java.lang.String">
      <fieldDescription><![CDATA[@name]]></fieldDescription>
    </field>
    <field name="nitrogen-input" class="java.lang.Double">
      <fieldDescription><![CDATA[@nitrogen-input]]></fieldDescription>
    </field>
    <field name="nitrogen-input-per-hectare" class="java.lang.Double">
      <fieldDescription><![CDATA[@nitrogen-input-per-hectare]]></fieldDescription>
    </field>
    <field name="started-at" class="java.util.Date">
      <fieldDescription><![CDATA[@started-at]]></fieldDescription>
    </field>
    <field name="stopped-at" class="java.util.Date">
      <fieldDescription><![CDATA[@stopped-at]]></fieldDescription>
    </field>
    <variable name="sum_pasturing_n_per_ha" class="java.lang.Double" calculation="Sum">
      <variableExpression><![CDATA[$F{nitrogen-input-per-hectare}]]></variableExpression>
    </variable>
  </subDataset>
  <subDataset name="bilan" uuid="b9450742-4a92-44ae-b742-9182b879ca1d">
    <parameter name="zone_id" class="java.lang.String"/>
    <parameter name="nitrogen_input_prev" class="java.lang.Double" isForPrompting="false">
      <defaultValueExpression><![CDATA[new Double(0.0)]]></defaultValueExpression>
    </parameter>
    <queryString language="xPath"><![CDATA[//intervention[ancestor::zone/@id=$P{zone_id}]/inputs/input | //pasturing[ancestor::zone/@id=$P{zone_id}]]]></queryString>
    <field name="name" class="java.lang.String">
      <fieldDescription><![CDATA[name]]></fieldDescription>
    </field>
    <field name="animal-group-name" class="java.lang.String">
      <fieldDescription><![CDATA[@animal-group-name]]></fieldDescription>
    </field>
    <field name="animal_nitrogen_input_per_hectare" class="java.lang.Double">
      <fieldDescription><![CDATA[@nitrogen-input-per-hectare]]></fieldDescription>
    </field>
    <field name="intervention_nitrogen_input_per_hectare" class="java.lang.Double">
      <fieldDescription><![CDATA[nitrogen-input-quantity-per-hectare]]></fieldDescription>
    </field>
    <variable name="n_animal" class="java.lang.Double" calculation="Sum">
      <variableExpression><![CDATA[$F{animal_nitrogen_input_per_hectare}]]></variableExpression>
      <initialValueExpression><![CDATA[]]></initialValueExpression>
    </variable>
    <variable name="n_intervention" class="java.lang.Double" calculation="Sum">
      <variableExpression><![CDATA[$F{intervention_nitrogen_input_per_hectare}]]></variableExpression>
      <initialValueExpression><![CDATA[]]></initialValueExpression>
    </variable>
    <variable name="provisional_balance" class="java.lang.Double">
      <variableExpression><![CDATA[($P{nitrogen_input_prev} == null ? new Double(0.0) : $P{nitrogen_input_prev}.doubleValue())  - ( ($V{n_animal} == null ? new Double(0.0) : $V{n_animal}.doubleValue()) + ($V{n_intervention} == null ? new Double(0.0) : $V{n_intervention}.doubleValue()) )]]></variableExpression>
      <initialValueExpression><![CDATA[]]></initialValueExpression>
    </variable>
    <variable name="sum_input_n" class="java.lang.Double">
      <variableExpression><![CDATA[($V{n_intervention} == null ? new Double(0.0) : $V{n_intervention}.doubleValue()) + ($V{n_animal} == null ? new Double(0.0) : $V{n_animal}.doubleValue())]]></variableExpression>
      <initialValueExpression><![CDATA[]]></initialValueExpression>
    </variable>
  </subDataset>
  <parameter name="XML_DATA_DOCUMENT" class="java.lang.String" isForPrompting="false"/>
  <parameter name="XML_URL" class="java.lang.String" isForPrompting="false"/>
  <parameter name="SUBREPORT_DIR" class="java.lang.String" isForPrompting="false">
    <defaultValueExpression><![CDATA["/home/djoulin/ekylibre/config/locales/fra/reporting/"]]></defaultValueExpression>
  </parameter>
  <queryString language="xPath"><![CDATA[/campaigns/campaign/zone]]></queryString>
  <field name="campaign" class="java.lang.String">
    <fieldDescription><![CDATA[ancestor::campaign/@name]]></fieldDescription>
  </field>
  <field name="entity_name" class="java.lang.String">
    <fieldDescription><![CDATA[ancestor::campaigns/@entity-name]]></fieldDescription>
  </field>
  <field name="area" class="java.lang.String">
    <fieldDescription><![CDATA[@net-surface-area]]></fieldDescription>
  </field>
  <field name="name" class="java.lang.String">
    <fieldDescription><![CDATA[@name]]></fieldDescription>
  </field>
  <field name="work_number" class="java.lang.String">
    <fieldDescription><![CDATA[@work-number]]></fieldDescription>
  </field>
  <field name="id" class="java.lang.String">
    <fieldDescription><![CDATA[@id]]></fieldDescription>
  </field>
  <field name="svg_path" class="java.lang.String">
    <fieldDescription><![CDATA[@shape-svg]]></fieldDescription>
  </field>
  <field name="production_name" class="java.lang.String">
    <fieldDescription><![CDATA[support/@variant-name]]></fieldDescription>
  </field>
  <field name="area_value" class="java.lang.Double">
    <fieldDescription><![CDATA[@net-surface-area-in-hectare]]></fieldDescription>
  </field>
  <field name="entity_address" class="java.lang.String">
    <fieldDescription><![CDATA[ancestor::campaigns/@address]]></fieldDescription>
  </field>
  <field name="clusters-work-number" class="java.lang.String">
    <fieldDescription><![CDATA[@clusters-work-number]]></fieldDescription>
  </field>
  <field name="soil-varieties" class="java.lang.String">
    <fieldDescription><![CDATA[@soil-varieties]]></fieldDescription>
  </field>
  <field name="previous_production_name" class="java.lang.String">
    <fieldDescription><![CDATA[support/@previous-production-name]]></fieldDescription>
  </field>
  <field name="sowed_at" class="java.util.Date">
    <fieldDescription><![CDATA[support/@sowed-at]]></fieldDescription>
  </field>
  <field name="harvested_at" class="java.util.Date">
    <fieldDescription><![CDATA[support/@harvest-at]]></fieldDescription>
  </field>
  <field name="grains_yield" class="java.lang.String">
    <fieldDescription><![CDATA[support/@grains-yield]]></fieldDescription>
  </field>
  <field name="provisional_grains_yield" class="java.lang.String">
    <fieldDescription><![CDATA[support/@provisional-grains-yield]]></fieldDescription>
  </field>
  <field name="recommender_mail_coordinate" class="java.lang.String">
    <fieldDescription><![CDATA[ancestor::campaign/@recommender-mail-coordinate]]></fieldDescription>
  </field>
  <field name="manure_management_plan_opened_at" class="java.util.Date">
    <fieldDescription><![CDATA[ancestor::campaign/@manure-management-plan-opened-at]]></fieldDescription>
  </field>
  <field name="manure_management_plan_default_computation_method" class="java.lang.String">
    <fieldDescription><![CDATA[ancestor::campaign/@manure-management-plan-default-computation-method]]></fieldDescription>
  </field>
  <field name="recommender_full_name" class="java.lang.String">
    <fieldDescription><![CDATA[ancestor::campaign/@recommender-full-name]]></fieldDescription>
  </field>
  <field name="manure_management_plan_name" class="java.lang.String">
    <fieldDescription><![CDATA[ancestor::campaign/@manure-management-plan-name]]></fieldDescription>
  </field>
  <field name="nitrogen_input_prev" class="java.lang.Double">
    <fieldDescription><![CDATA[support/@nitrogen-input-prev]]></fieldDescription>
  </field>
  <group name="campaign" isStartNewPage="true" keepTogether="true">
    <groupExpression><![CDATA[$F{campaign}]]></groupExpression>
    <groupHeader>
      <band height="408">
        <rectangle radius="10">
          <reportElement style="title" x="2" y="49" width="783" height="133" uuid="d37e2b87-78f5-4f48-9e2e-d02c0b23b0d6">
            <printWhenExpression><![CDATA[!$F{manure_management_plan_default_computation_method}.isEmpty()]]></printWhenExpression>
          </reportElement>
        </rectangle>
        <textField>
          <reportElement isPrintRepeatedValues="false" x="306" y="10" width="114" height="29" printWhenGroupChanges="campaign" uuid="26989836-89a9-4862-8b1a-40c2b54e1ee3"/>
          <textElement textAlignment="Right" verticalAlignment="Middle">
            <font size="14"/>
          </textElement>
          <textFieldExpression><![CDATA[$F{campaign}]]></textFieldExpression>
        </textField>
        <staticText>
          <reportElement style="emphasis" positionType="FixRelativeToBottom" x="91" y="122" width="272" height="29" uuid="6161ed25-02c9-4de5-b766-cd62b0c74c37">
            <printWhenExpression><![CDATA[$F{manure_management_plan_default_computation_method}.toString() == "poitou_charentes_2013"]]></printWhenExpression>
          </reportElement>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
            <paragraph firstLineIndent="4"/>
          </textElement>
          <text><![CDATA[Arrêté préfectoral n°255 du 31/08/2012 (Poitou-Charentes)]]></text>
        </staticText>
        <staticText>
          <reportElement style="emphasis" positionType="FixRelativeToBottom" x="91" y="92" width="291" height="30" uuid="df9c34a8-6702-4aa1-bfc3-9d84014b84c8">
            <printWhenExpression><![CDATA[!$F{manure_management_plan_default_computation_method}.isEmpty()]]></printWhenExpression>
          </reportElement>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
            <paragraph firstLineIndent="4"/>
          </textElement>
          <text><![CDATA[Arrêté national du 23/10/2013 modifiant l'arrêté national du 19/12/2011]]></text>
        </staticText>
        <textField>
          <reportElement style="emphasis" positionType="FixRelativeToBottom" x="532" y="92" width="194" height="20" uuid="27621b0d-5fa3-4f36-adfd-9638940bb01e">
            <printWhenExpression><![CDATA[!$F{recommender_full_name}.isEmpty()]]></printWhenExpression>
          </reportElement>
          <textElement verticalAlignment="Middle"/>
          <textFieldExpression><![CDATA[$F{recommender_full_name}]]></textFieldExpression>
        </textField>
        <textField isStretchWithOverflow="true" isBlankWhenNull="true">
          <reportElement style="address" positionType="FixRelativeToBottom" stretchType="RelativeToBandHeight" x="532" y="112" width="194" height="39" uuid="561c22b0-e570-4a4a-acb1-995d26a001b4">
            <printWhenExpression><![CDATA[!$F{recommender_mail_coordinate}.isEmpty()]]></printWhenExpression>
          </reportElement>
          <textElement verticalAlignment="Middle"/>
          <textFieldExpression><![CDATA[$F{recommender_mail_coordinate}.toUpperCase()]]></textFieldExpression>
        </textField>
        <staticText>
          <reportElement style="label-strong" positionType="FixRelativeToBottom" x="420" y="92" width="102" height="59" uuid="70d642c6-0fe9-4b0b-8eab-d31149640202">
            <printWhenExpression><![CDATA[!$F{recommender_full_name}.isEmpty()]]></printWhenExpression>
          </reportElement>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
            <paragraph firstLineIndent="4"/>
          </textElement>
          <text><![CDATA[Réalisateur]]></text>
        </staticText>
        <staticText>
          <reportElement style="label-strong" positionType="FixRelativeToBottom" x="10" y="92" width="81" height="59" uuid="ea7da307-1dfe-4eb4-afb6-e246a2c66201">
            <printWhenExpression><![CDATA[!$F{manure_management_plan_default_computation_method}.isEmpty()]]></printWhenExpression>
          </reportElement>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
            <paragraph firstLineIndent="4"/>
          </textElement>
          <text><![CDATA[Référence réglementaires]]></text>
        </staticText>
        <staticText>
          <reportElement style="label-strong" positionType="FixRelativeToBottom" x="33" y="64" width="330" height="20" uuid="072e2d80-f21f-4dbe-833e-85685ae2d02a">
            <printWhenExpression><![CDATA[!$F{manure_management_plan_default_computation_method}.isEmpty()]]></printWhenExpression>
          </reportElement>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
            <paragraph firstLineIndent="4"/>
          </textElement>
          <text><![CDATA[Plan Prévisionnel de Fumure (PPF) effectué]]></text>
        </staticText>
        <ellipse>
          <reportElement x="10" y="64" width="20" height="20" backcolor="#65A907" uuid="7897a34a-c66a-4ff0-8157-4c9c77f99cef">
            <printWhenExpression><![CDATA[!$F{manure_management_plan_name}.isEmpty()]]></printWhenExpression>
          </reportElement>
        </ellipse>
        <staticText>
          <reportElement style="strong" positionType="FixRelativeToBottom" mode="Opaque" x="395" y="64" width="2" height="69" backcolor="#7C9DDD" uuid="dda37951-43d0-46b6-9fa9-10ca2fe6093d">
            <printWhenExpression><![CDATA[!$F{manure_management_plan_default_computation_method}.isEmpty()]]></printWhenExpression>
          </reportElement>
          <textElement verticalAlignment="Middle" rotation="Right">
            <font pdfFontName="Open Sans"/>
          </textElement>
          <text><![CDATA[]]></text>
        </staticText>
        <textField pattern="dd/MM/yyyy HH.mm.ss" isBlankWhenNull="true">
          <reportElement style="emphasis" x="532" y="64" width="194" height="28" uuid="be8bdf4d-2776-4fcc-b2aa-499e3903fb45">
            <printWhenExpression><![CDATA[!$F{manure_management_plan_opened_at}.toString().isEmpty()]]></printWhenExpression>
          </reportElement>
          <textFieldExpression><![CDATA[$F{manure_management_plan_opened_at}]]></textFieldExpression>
        </textField>
        <staticText>
          <reportElement style="label-strong" positionType="FixRelativeToBottom" x="420" y="64" width="102" height="28" uuid="5721518c-c09c-4628-8cbc-c61568f25c60">
            <printWhenExpression><![CDATA[!$F{manure_management_plan_opened_at}.toString().isEmpty()]]></printWhenExpression>
          </reportElement>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
            <paragraph firstLineIndent="4"/>
          </textElement>
          <text><![CDATA[Ouverture du bilan]]></text>
        </staticText>
      </band>
    </groupHeader>
  </group>
  <group name="land_parcel_group" isStartNewPage="true" minHeightToStartNewPage="20" keepTogether="true">
    <groupExpression><![CDATA[$F{id}]]></groupExpression>
    <groupHeader>
      <band height="181">
        <rectangle radius="10">
          <reportElement style="title" x="420" y="49" width="191" height="97" uuid="b0177801-cfcd-4b7e-bcab-2d968acb1d7b"/>
        </rectangle>
        <rectangle radius="10">
          <reportElement style="title" x="254" y="48" width="154" height="97" uuid="dee27788-3e3b-4e29-9f33-264c5be10dc5"/>
        </rectangle>
        <rectangle radius="10">
          <reportElement style="title" x="2" y="49" width="247" height="96" uuid="bd5f3d5d-eda9-40e0-ac15-a97942d216e8"/>
        </rectangle>
        <textField isStretchWithOverflow="true">
          <reportElement style="sub-title" x="2" y="0" width="784" height="24" uuid="767321ef-0cb0-45b7-9d28-e511bc11c4d2"/>
          <textElement textAlignment="Left" verticalAlignment="Middle"/>
          <textFieldExpression><![CDATA["Parcelle culturale  "+$F{work_number}+" - "+$F{name}]]></textFieldExpression>
        </textField>
        <staticText>
          <reportElement style="strong" mode="Opaque" x="2" y="24" width="784" height="2" backcolor="#7C9DDD" uuid="3d0054b5-1969-4fcc-af4f-243f0460a2b7"/>
          <textElement verticalAlignment="Middle">
            <font pdfFontName="Open Sans"/>
          </textElement>
          <text><![CDATA[]]></text>
        </staticText>
        <staticText>
          <reportElement style="label" x="10" y="49" width="69" height="22" uuid="f13d06af-132b-4d03-b61b-84650403995b"/>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
          </textElement>
          <text><![CDATA[Surface]]></text>
        </staticText>
        <staticText>
          <reportElement style="label" x="10" y="71" width="69" height="22" uuid="d1b6c43b-248a-475e-9f13-df52ab37325f"/>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
          </textElement>
          <text><![CDATA[Culture]]></text>
        </staticText>
        <staticText>
          <reportElement style="label" x="10" y="92" width="69" height="23" uuid="0f22a24e-779f-4c89-b703-44e223e147c5"/>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
          </textElement>
          <text><![CDATA[Précédent cultural]]></text>
        </staticText>
        <textField evaluationTime="Group" evaluationGroup="land_parcel_group" isBlankWhenNull="true">
          <reportElement style="base" x="79" y="71" width="170" height="22" uuid="7ffc3808-a292-4169-9bac-7bf545fc238e"/>
          <textElement verticalAlignment="Middle"/>
          <textFieldExpression><![CDATA[$F{production_name}]]></textFieldExpression>
        </textField>
        <staticText>
          <reportElement style="label" x="433" y="93" width="89" height="24" uuid="36931cf2-a5e2-44f0-acf1-45084b45ad25"/>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
          </textElement>
          <text><![CDATA[Rendement prévu]]></text>
        </staticText>
        <textField pattern="###0.00 Ha" isBlankWhenNull="true">
          <reportElement style="base" x="79" y="49" width="170" height="22" uuid="b3834841-2c13-4098-90f2-dd5003f7e126"/>
          <textElement verticalAlignment="Middle"/>
          <textFieldExpression><![CDATA[$F{area_value}]]></textFieldExpression>
        </textField>
        <image onErrorType="Blank" evaluationTime="Group" evaluationGroup="land_parcel_group">
          <reportElement x="632" y="48" width="144" height="96" uuid="76a9af81-d2a1-4946-8f26-98bfb1e1fb3a">
            <printWhenExpression><![CDATA[!$F{svg_path}.isEmpty()]]></printWhenExpression>
          </reportElement>
          <imageExpression><![CDATA[net.sf.jasperreports.renderers.BatikRenderer.getInstanceFromText($F{svg_path})]]></imageExpression>
        </image>
        <staticText>
          <reportElement style="label" x="259" y="56" width="69" height="37" uuid="c607e8d7-30af-4324-ba34-bef93348350c"/>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
          </textElement>
          <text><![CDATA[Ilôt(s) PAC]]></text>
        </staticText>
        <textField evaluationTime="Group" evaluationGroup="land_parcel_group" isBlankWhenNull="true">
          <reportElement style="base" x="328" y="56" width="67" height="37" uuid="5c75c8f9-fa94-4e37-a75a-e8a0ffbea5f0"/>
          <textElement verticalAlignment="Middle"/>
          <textFieldExpression><![CDATA[$F{clusters-work-number}]]></textFieldExpression>
        </textField>
        <staticText>
          <reportElement style="label" x="259" y="93" width="69" height="36" uuid="7e846c4d-aea6-43f9-b155-8be1c39dbb73"/>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
          </textElement>
          <text><![CDATA[Type de sol]]></text>
        </staticText>
        <textField evaluationTime="Group" evaluationGroup="land_parcel_group" isBlankWhenNull="true">
          <reportElement style="base" x="328" y="93" width="67" height="36" uuid="b9710c8e-8b43-4e1d-bbdd-39522ee0fac3"/>
          <textElement verticalAlignment="Middle"/>
          <textFieldExpression><![CDATA[$F{soil-varieties}]]></textFieldExpression>
        </textField>
        <textField evaluationTime="Group" evaluationGroup="land_parcel_group" isBlankWhenNull="true">
          <reportElement style="base" x="79" y="92" width="170" height="22" uuid="998c4b75-37b6-4c71-82cb-65c1b0768700"/>
          <textElement verticalAlignment="Middle"/>
          <textFieldExpression><![CDATA[$F{previous_production_name}]]></textFieldExpression>
        </textField>
        <staticText>
          <reportElement style="label" x="433" y="116" width="89" height="28" uuid="c778b5f1-519e-4cd5-b98e-73eeba39dcc7"/>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
          </textElement>
          <text><![CDATA[Rendement réalisé]]></text>
        </staticText>
        <staticText>
          <reportElement style="label" x="433" y="49" width="89" height="22" uuid="f3a432ac-4aea-41f4-a464-7d10e7594130"/>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
          </textElement>
          <text><![CDATA[Date d'implantation]]></text>
        </staticText>
        <staticText>
          <reportElement style="label" x="433" y="70" width="89" height="23" uuid="16cd9442-22dc-4dfe-97e4-5ba5d347d272"/>
          <textElement verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
          </textElement>
          <text><![CDATA[Date de récolte]]></text>
        </staticText>
        <textField evaluationTime="Group" evaluationGroup="land_parcel_group" pattern="dd/MM/yyyy" isBlankWhenNull="true">
          <reportElement style="base" x="522" y="49" width="89" height="22" uuid="16ea4441-d6b6-4091-889e-dab92704fd83"/>
          <textElement verticalAlignment="Middle"/>
          <textFieldExpression><![CDATA[$F{sowed_at}]]></textFieldExpression>
        </textField>
        <textField evaluationTime="Group" evaluationGroup="land_parcel_group" pattern="dd/MM/yyyy" isBlankWhenNull="true">
          <reportElement style="base" x="522" y="70" width="89" height="23" uuid="b623543d-b15d-4c5e-9665-b20156bc5971"/>
          <textElement verticalAlignment="Middle"/>
          <textFieldExpression><![CDATA[$F{harvested_at}]]></textFieldExpression>
        </textField>
        <textField evaluationTime="Group" evaluationGroup="land_parcel_group" isBlankWhenNull="true">
          <reportElement style="base" x="522" y="117" width="89" height="27" uuid="ae80d9ca-8683-4e9d-b592-4c6a67a2b892"/>
          <textElement verticalAlignment="Middle"/>
          <textFieldExpression><![CDATA[$F{grains_yield}]]></textFieldExpression>
        </textField>
        <textField evaluationTime="Group" evaluationGroup="land_parcel_group" isBlankWhenNull="true">
          <reportElement style="base" x="522" y="93" width="89" height="23" uuid="89d8cc69-741b-461b-ab50-885731a8403f"/>
          <textElement verticalAlignment="Middle"/>
          <textFieldExpression><![CDATA[$F{provisional_grains_yield}]]></textFieldExpression>
        </textField>
        <textField pattern="###0.00" isBlankWhenNull="true">
          <reportElement style="label-strong" x="670" y="161" width="56" height="20" uuid="0fcc0a9d-6da7-4f24-8a4c-1042c252b22d">
            <printWhenExpression><![CDATA[!$F{nitrogen_input_prev}.toString().isEmpty()]]></printWhenExpression>
          </reportElement>
          <textElement textAlignment="Center"/>
          <textFieldExpression><![CDATA[$F{nitrogen_input_prev}]]></textFieldExpression>
        </textField>
        <textField isBlankWhenNull="true">
          <reportElement style="label" x="408" y="161" width="262" height="20" uuid="6c24327e-042f-4666-aa48-23d3bfd64829">
            <printWhenExpression><![CDATA[!$F{recommender_full_name}.isEmpty()]]></printWhenExpression>
          </reportElement>
          <textFieldExpression><![CDATA["Apports azotés prévus à partir du "+ $F{manure_management_plan_opened_at}.toLocaleString()]]></textFieldExpression>
        </textField>
        <staticText>
          <reportElement style="label" x="726" y="161" width="50" height="20" uuid="ef4add0f-5e17-4121-b3d9-b8b5679e81ca">
            <printWhenExpression><![CDATA[!$F{manure_management_plan_name}.isEmpty()]]></printWhenExpression>
          </reportElement>
          <textElement textAlignment="Right" verticalAlignment="Middle">
            <font fontName="Open Sans" size="10"/>
            <paragraph rightIndent="4"/>
          </textElement>
          <text><![CDATA[kg N / Ha]]></text>
        </staticText>
      </band>
    </groupHeader>
    <groupFooter>
      <band height="35">
        <componentElement>
          <reportElement key="table" x="420" y="0" width="366" height="35" uuid="e143454c-f54e-433c-a859-dd24cd8b3ce1"/>
          <jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
            <datasetRun subDataset="bilan" uuid="81262a21-5de7-47b6-af4d-5dbbbbfe9c5a">
              <parametersMapExpression><![CDATA[$P{REPORT_PARAMETERS_MAP}]]></parametersMapExpression>
              <datasetParameter name="zone_id">
                <datasetParameterExpression><![CDATA[$F{id}]]></datasetParameterExpression>
              </datasetParameter>
              <datasetParameter name="nitrogen_input_prev">
                <datasetParameterExpression><![CDATA[$F{nitrogen_input_prev}]]></datasetParameterExpression>
              </datasetParameter>
              <connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
            </datasetRun>
            <jr:column width="202" uuid="65b83bfa-c68b-435e-a553-bf8617177f7a">
              <jr:columnFooter height="57" rowSpan="1">
                <staticText>
                  <reportElement style="label" x="0" y="0" width="202" height="27" uuid="a81a65eb-45a0-4590-90d8-d5ab4e92ef66"/>
                  <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font fontName="Open Sans"/>
                    <paragraph rightIndent="4"/>
                  </textElement>
                  <text><![CDATA[Apport totaux]]></text>
                </staticText>
                <staticText>
                  <reportElement style="label" x="0" y="27" width="202" height="30" uuid="da606bb0-614d-46a8-998a-8b18b4cf98c0"/>
                  <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font fontName="Open Sans"/>
                    <paragraph rightIndent="4"/>
                  </textElement>
                  <text><![CDATA[Balance azotée]]></text>
                </staticText>
              </jr:columnFooter>
              <jr:detailCell height="4" rowSpan="1"/>
            </jr:column>
            <jr:column width="25" uuid="31060af1-5254-4ded-b3cc-0c4ce11dca3f">
              <jr:columnFooter height="57" rowSpan="1">
                <ellipse>
                  <reportElement x="5" y="35" width="15" height="15" backcolor="#65A907" uuid="51fd0ed7-d68f-4315-8633-fd668205c8d0">
                    <printWhenExpression><![CDATA[$V{provisional_balance} >= 0.0]]></printWhenExpression>
                  </reportElement>
                </ellipse>
                <ellipse>
                  <reportElement x="5" y="35" width="15" height="15" backcolor="#F17900" uuid="a75677b8-e671-44a5-8a71-16f034a5abeb">
                    <printWhenExpression><![CDATA[$V{provisional_balance} < 0.0]]></printWhenExpression>
                  </reportElement>
                </ellipse>
              </jr:columnFooter>
              <jr:detailCell height="4" rowSpan="1"/>
            </jr:column>
            <jr:column width="53" uuid="98c4b987-1ef1-4db8-9a12-3c6b346a7eef">
              <jr:columnFooter height="57" rowSpan="1">
                <textField pattern="###0.00" isBlankWhenNull="true">
                  <reportElement style="strong" x="0" y="27" width="53" height="30" uuid="23af3dc0-5a88-4390-b353-d0d531aee86f"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$V{provisional_balance}]]></textFieldExpression>
                </textField>
                <textField pattern="###0.00" isBlankWhenNull="true">
                  <reportElement x="0" y="0" width="53" height="27" uuid="c937104f-e4ab-4cfc-b6ac-d2a6058079f1"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$V{sum_input_n}]]></textFieldExpression>
                </textField>
              </jr:columnFooter>
              <jr:detailCell height="4" rowSpan="1"/>
            </jr:column>
            <jr:column width="55" uuid="aa2ad479-579a-4368-9ae2-a2ecf183115a">
              <jr:columnFooter height="57" rowSpan="1">
                <staticText>
                  <reportElement style="label" x="0" y="0" width="55" height="27" uuid="ad69c268-7b0c-46ea-b669-c1d4d51be194"/>
                  <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font fontName="Open Sans"/>
                    <paragraph rightIndent="4"/>
                  </textElement>
                  <text><![CDATA[kg N / Ha]]></text>
                </staticText>
                <staticText>
                  <reportElement style="label" x="0" y="27" width="55" height="30" uuid="37852179-f0fb-4051-9216-925e05ba333d"/>
                  <textElement textAlignment="Right" verticalAlignment="Middle">
                    <font fontName="Open Sans"/>
                    <paragraph rightIndent="4"/>
                  </textElement>
                  <text><![CDATA[kg N / Ha]]></text>
                </staticText>
              </jr:columnFooter>
              <jr:detailCell height="4" rowSpan="1"/>
            </jr:column>
          </jr:table>
        </componentElement>
      </band>
    </groupFooter>
  </group>
  <background>
    <band splitType="Stretch"/>
  </background>
  <title>
    <band height="227" splitType="Stretch">
      <staticText>
        <reportElement style="strong" mode="Opaque" x="2" y="29" width="784" height="2" backcolor="#7C9DDD" uuid="5b202e71-e4a3-4be8-8dcb-f735cc04164a"/>
        <textElement verticalAlignment="Middle">
          <font pdfFontName="Open Sans"/>
        </textElement>
        <text><![CDATA[]]></text>
      </staticText>
      <staticText>
        <reportElement style="title" x="0" y="0" width="786" height="29" uuid="dc35e306-d03e-4288-b40e-74e3bb33d471"/>
        <textElement>
          <font fontName="Open Sans" size="16" pdfFontName="Open Sans"/>
        </textElement>
        <text><![CDATA[Cahier d'épandage]]></text>
      </staticText>
      <textField>
        <reportElement x="2" y="161" width="786" height="40" uuid="d09492f4-a25a-4c31-b4ec-8b846e4b6968"/>
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font fontName="Open Sans" size="24" isBold="true"/>
        </textElement>
        <textFieldExpression><![CDATA[$F{entity_name}]]></textFieldExpression>
      </textField>
      <textField isBlankWhenNull="true">
        <reportElement style="address" x="2" y="201" width="786" height="20" uuid="0125d4d6-d61c-43cb-a5e3-d1b790b96ef8"/>
        <textElement textAlignment="Center" verticalAlignment="Middle"/>
        <textFieldExpression><![CDATA[$F{entity_address}]]></textFieldExpression>
      </textField>
    </band>
  </title>
  <pageHeader>
    <band height="25" splitType="Stretch">
      <textField>
        <reportElement style="address" x="0" y="0" width="786" height="25" uuid="548666df-fcbc-42e7-b461-8ee8b327b70e"/>
        <textElement textAlignment="Center" verticalAlignment="Top"/>
        <textFieldExpression><![CDATA["Cahier d'épandage de la campagne "+$F{campaign}]]></textFieldExpression>
      </textField>
    </band>
  </pageHeader>
  <detail>
    <band height="37">
      <componentElement>
        <reportElement key="table" x="2" y="0" width="784" height="37" isRemoveLineWhenBlank="true" uuid="72577195-cf73-4bb8-921b-8c0bfdab39b3"/>
        <jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
          <datasetRun subDataset="land_parcel_input_real" uuid="b9cc4c1f-d2e0-4993-8015-e95018d2b87c">
            <parametersMapExpression><![CDATA[$P{REPORT_PARAMETERS_MAP}]]></parametersMapExpression>
            <datasetParameter name="cultivable_zone_id">
              <datasetParameterExpression><![CDATA[$F{id}]]></datasetParameterExpression>
            </datasetParameter>
            <datasetParameter name="cultivable_zone_area">
              <datasetParameterExpression><![CDATA[$F{area_value}]]></datasetParameterExpression>
            </datasetParameter>
            <connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
          </datasetRun>
          <jr:columnGroup width="884" uuid="43e16d40-953d-411d-9e83-39727ae33206">
            <jr:tableHeader height="30" rowSpan="1">
              <textField>
                <reportElement style="label-strong" x="0" y="0" width="786" height="30" uuid="ca627e01-539d-4cb8-977a-3a8c56859441"/>
                <textElement verticalAlignment="Middle"/>
                <textFieldExpression><![CDATA["Epandage d'engrais et de liquide fertilisants"]]></textFieldExpression>
              </textField>
            </jr:tableHeader>
            <jr:column width="126" uuid="d49906d0-f4c8-49be-9fdc-ab733b0c8acf">
              <jr:tableFooter height="34" rowSpan="1">
                <textField>
                  <reportElement style="strong" x="0" y="0" width="126" height="34" uuid="3ae60dba-7bc1-4762-81d2-b1bcf6a7371f"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA["Totaux"]]></textFieldExpression>
                </textField>
              </jr:tableFooter>
              <jr:columnHeader height="57" rowSpan="1">
                <staticText>
                  <reportElement style="table-td" x="0" y="0" width="126" height="57" uuid="3b140cf0-1978-4245-94f1-787ac3ab7dca"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <text><![CDATA[Intrant]]></text>
                </staticText>
              </jr:columnHeader>
              <jr:detailCell height="20" rowSpan="1">
                <textField>
                  <reportElement style="table-td" x="0" y="0" width="126" height="20" uuid="51066864-1c3e-4131-8f9c-37e9f579c5df"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$F{input_name}]]></textFieldExpression>
                </textField>
              </jr:detailCell>
            </jr:column>
            <jr:column width="116" uuid="b331346e-48ee-4f80-8a75-e48e1b625ae3">
              <jr:tableFooter height="34" rowSpan="1"/>
              <jr:columnHeader height="57" rowSpan="1">
                <staticText>
                  <reportElement style="table-td" x="0" y="0" width="116" height="57" uuid="b13f1d4b-c45f-43a0-a078-58320e1a4e02"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <text><![CDATA[Nature du produit]]></text>
                </staticText>
              </jr:columnHeader>
              <jr:detailCell height="20" rowSpan="1">
                <textField>
                  <reportElement style="table-td" x="0" y="0" width="116" height="20" uuid="22c29f43-18e3-4a14-8d9d-accbdda67653"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$F{input_nature}]]></textFieldExpression>
                </textField>
              </jr:detailCell>
            </jr:column>
            <jr:column width="70" uuid="e65ba874-7dc7-4a4a-864d-1b140e36653c">
              <jr:columnHeader height="57" rowSpan="1">
                <staticText>
                  <reportElement style="table-td" x="0" y="0" width="70" height="57" uuid="c6d369df-133d-4cd5-ad79-60ce9af19384"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <text><![CDATA[Teneur en N]]></text>
                </staticText>
              </jr:columnHeader>
              <jr:detailCell height="20" rowSpan="1">
                <textField pattern="###0.00;-###0.00" isBlankWhenNull="true">
                  <reportElement style="table-td" x="0" y="0" width="70" height="20" uuid="cc7a66a1-5727-4e48-b39f-b49173dbb21a"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$F{input_nitrogen_concentration}]]></textFieldExpression>
                </textField>
              </jr:detailCell>
            </jr:column>
            <jr:column width="70" uuid="bc16377e-1be6-47b8-b2bb-70395b8c7110">
              <jr:columnHeader height="57" rowSpan="1">
                <staticText>
                  <reportElement style="table-td" x="0" y="0" width="70" height="57" uuid="31533e78-07fe-4783-98a3-433be2449aa2"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <text><![CDATA[Teneur en P]]></text>
                </staticText>
              </jr:columnHeader>
              <jr:detailCell height="20" rowSpan="1">
                <textField pattern="###0.00" isBlankWhenNull="true">
                  <reportElement style="table-td" x="0" y="0" width="70" height="20" uuid="782658be-d7dc-4787-9233-1f467fae329e"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$F{input_phosphorus_concentration}]]></textFieldExpression>
                </textField>
              </jr:detailCell>
            </jr:column>
            <jr:column width="70" uuid="c070e025-8393-4ffb-a342-ad01180f781f">
              <jr:columnHeader height="57" rowSpan="1">
                <staticText>
                  <reportElement style="table-td" x="0" y="0" width="70" height="57" uuid="e74dbf79-de94-4b40-8429-747b76f489c5"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <text><![CDATA[Teneur en K]]></text>
                </staticText>
              </jr:columnHeader>
              <jr:detailCell height="20" rowSpan="1">
                <textField pattern="###0.00;-###0.00" isBlankWhenNull="true">
                  <reportElement style="table-td" x="0" y="0" width="70" height="20" uuid="ccd1fe5e-cd41-420d-98cb-7cec417bc818"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$F{input_potassium_concentration}]]></textFieldExpression>
                </textField>
              </jr:detailCell>
            </jr:column>
            <jr:column width="82" uuid="2f48186d-35d6-4828-8977-1c87d632f266">
              <jr:tableFooter height="34" rowSpan="1"/>
              <jr:columnHeader height="57" rowSpan="1">
                <staticText>
                  <reportElement style="table-td" x="0" y="0" width="82" height="57" uuid="3a5cf890-d49e-4d35-9735-da2b3178cb14"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <text><![CDATA[Quantité épandue]]></text>
                </staticText>
              </jr:columnHeader>
              <jr:detailCell height="20" rowSpan="1">
                <textField isBlankWhenNull="true">
                  <reportElement style="table-td" x="0" y="0" width="82" height="20" uuid="03bbc176-12f3-4e68-a4df-ff7e3db549a8"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$F{population}.toString() + " " +$F{input_variant_unit}]]></textFieldExpression>
                  <patternExpression><![CDATA[$F{input_quantity}]]></patternExpression>
                </textField>
              </jr:detailCell>
            </jr:column>
            <jr:column width="57" uuid="d3532eba-cb3e-430c-915c-9ded5a34b84d">
              <jr:tableFooter height="34" rowSpan="1">
                <textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
                  <reportElement style="base" x="0" y="0" width="57" height="34" uuid="fb541883-3007-4851-840e-75c87e149683"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$V{total_prev_nitrogen_quantity_per_area}]]></textFieldExpression>
                </textField>
              </jr:tableFooter>
              <jr:columnHeader height="57" rowSpan="1">
                <staticText>
                  <reportElement style="table-td" x="0" y="0" width="57" height="57" uuid="f770833c-a961-450c-93a7-e5330f4933e0"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle">
                    <paragraph leftIndent="4"/>
                  </textElement>
                  <text><![CDATA[Dose d'azote (kg N / ha)]]></text>
                </staticText>
              </jr:columnHeader>
              <jr:detailCell height="20" rowSpan="1">
                <textField pattern="###0.00" isBlankWhenNull="true">
                  <reportElement style="table-td" x="0" y="0" width="57" height="20" uuid="af94c90c-bb43-4b8e-bdbb-cdada0569328"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$F{nitrogen_input_quantity_per_hectare}]]></textFieldExpression>
                </textField>
              </jr:detailCell>
            </jr:column>
            <jr:column width="57" uuid="ab3e0d13-b4f3-4204-b10f-f4d418504b66">
              <jr:tableFooter height="34" rowSpan="1">
                <textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
                  <reportElement style="base" x="0" y="0" width="57" height="34" uuid="0e7f023e-7f25-4860-8e13-b44b9f305303"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$V{total_prev_phosphorus_quantity_per_area}]]></textFieldExpression>
                </textField>
              </jr:tableFooter>
              <jr:columnHeader height="57" rowSpan="1">
                <staticText>
                  <reportElement style="table-td" x="0" y="0" width="57" height="57" uuid="7a8f10ac-45ad-46bc-a6d9-0e7d972e2e94"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle">
                    <paragraph leftIndent="4"/>
                  </textElement>
                  <text><![CDATA[Dose de phosphore  (kg P / ha)]]></text>
                </staticText>
              </jr:columnHeader>
              <jr:detailCell height="20" rowSpan="1">
                <textField pattern="###0.00" isBlankWhenNull="true">
                  <reportElement style="table-td" x="0" y="0" width="57" height="20" uuid="83757847-62e7-4f4a-ba30-11b58658b2d2"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$F{phosphorus_input_quantity_per_hectare}]]></textFieldExpression>
                </textField>
              </jr:detailCell>
            </jr:column>
            <jr:column width="57" uuid="94d1a000-11fa-4154-b4c7-6e062c23facb">
              <jr:tableFooter height="34" rowSpan="1">
                <textField isStretchWithOverflow="true" pattern="###0.00" isBlankWhenNull="true">
                  <reportElement style="base" x="0" y="0" width="57" height="34" uuid="2995a245-c519-48a5-8681-4db06781a097"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$V{total_prev_potassium_quantity_per_area}]]></textFieldExpression>
                </textField>
              </jr:tableFooter>
              <jr:columnHeader height="57" rowSpan="1">
                <staticText>
                  <reportElement style="table-td" x="0" y="0" width="57" height="57" uuid="60559d5f-2f53-43f5-a701-97737a64a91d"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle">
                    <paragraph leftIndent="4"/>
                  </textElement>
                  <text><![CDATA[Dose de potassium (kg K / ha)]]></text>
                </staticText>
              </jr:columnHeader>
              <jr:detailCell height="20" rowSpan="1">
                <textField pattern="###0.00" isBlankWhenNull="true">
                  <reportElement style="table-td" x="0" y="0" width="57" height="20" uuid="f33eb29d-9c8e-42ff-9d2e-90a1dc4af82d"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$F{potassium_input_quantity_per_hectare}]]></textFieldExpression>
                </textField>
              </jr:detailCell>
            </jr:column>
            <jr:column width="71" uuid="d781060e-8cde-4bbc-8f3e-0f18bb0f2807">
              <jr:columnHeader height="57" rowSpan="1">
                <staticText>
                  <reportElement style="table-td" x="0" y="0" width="71" height="57" uuid="08966e00-edbd-4a47-9564-1819ee3394ad"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle">
                    <paragraph leftIndent="4"/>
                  </textElement>
                  <text><![CDATA[Date d'apport]]></text>
                </staticText>
              </jr:columnHeader>
              <jr:detailCell height="20" rowSpan="1">
                <textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
                  <reportElement style="table-td" x="0" y="0" width="71" height="20" uuid="5707953f-6b6c-4148-856d-7cd4adf63cb6"/>
                  <textElement textAlignment="Center" verticalAlignment="Middle"/>
                  <textFieldExpression><![CDATA[$F{started_at}]]></textFieldExpression>
                </textField>
              </jr:detailCell>
            </jr:column>
            <jr:column width="108" uuid="8b451c6f-6920-49c7-9465-4e03b7d7a783">
              <jr:columnHeader height="57" rowSpan="1"/>
              <jr:detailCell height="20" rowSpan="1"/>
            </jr:column>
          </jr:columnGroup>
        </jr:table>
      </componentElement>
    </band>
    <band height="20" splitType="Stretch">
      <componentElement>
        <reportElement key="table" x="4" y="0" width="784" height="20" uuid="81380238-9100-4dcf-94f3-25022a658976"/>
        <jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
          <datasetRun subDataset="pasturing" uuid="2c254d41-40df-4210-96e4-1748f2fe8747">
            <parametersMapExpression><![CDATA[$P{REPORT_PARAMETERS_MAP}]]></parametersMapExpression>
            <datasetParameter name="zone_id">
              <datasetParameterExpression><![CDATA[$F{id}]]></datasetParameterExpression>
            </datasetParameter>
            <connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
          </datasetRun>
          <jr:columnGroup width="779" uuid="ccfd2b91-5a60-4532-bdaf-2af2fb247dc4">
            <jr:tableHeader height="30" rowSpan="1">
              <textField>
                <reportElement style="label-strong" x="0" y="0" width="779" height="30" uuid="2a029579-4a0c-4685-acdf-7e99ea5d07e3"/>
                <textElement verticalAlignment="Middle"/>
                <textFieldExpression><![CDATA["Pâturage"]]></textFieldExpression>
              </textField>
            </jr:tableHeader>
            <jr:columnGroup width="779" uuid="56f9be4e-3cd4-412b-8623-86a974c97cfa">
              <jr:column width="90" uuid="4f5ebb73-c4d2-4f80-9b39-1fc4598bca2a">
                <jr:columnHeader height="47" rowSpan="1">
                  <staticText>
                    <reportElement style="table-th" x="0" y="0" width="90" height="47" uuid="6ee2c700-c888-43fa-911d-ccf25232afc6"/>
                    <text><![CDATA[Intervention]]></text>
                  </staticText>
                </jr:columnHeader>
                <jr:columnFooter height="34" rowSpan="1">
                  <textField>
                    <reportElement style="strong" x="0" y="0" width="90" height="34" uuid="bfad90de-c2a2-4890-bbd2-c89695cd0916"/>
                    <textElement textAlignment="Center" verticalAlignment="Middle"/>
                    <textFieldExpression><![CDATA["Totaux"]]></textFieldExpression>
                  </textField>
                </jr:columnFooter>
                <jr:detailCell height="34" rowSpan="1">
                  <textField isBlankWhenNull="true">
                    <reportElement style="table-td" x="0" y="0" width="90" height="34" uuid="8f25767c-7083-4f34-b460-828e26d0a45a"/>
                    <textFieldExpression><![CDATA[$F{name}]]></textFieldExpression>
                  </textField>
                </jr:detailCell>
              </jr:column>
              <jr:column width="90" uuid="57553df0-a7be-4d2b-b89e-a7d5ccab8fe2">
                <jr:columnHeader height="47" rowSpan="1">
                  <staticText>
                    <reportElement style="table-th" x="0" y="0" width="90" height="47" uuid="aaa0fa10-09ff-486f-b3fd-01e61b8e4a3e"/>
                    <text><![CDATA[début]]></text>
                  </staticText>
                </jr:columnHeader>
                <jr:columnFooter height="34" rowSpan="1"/>
                <jr:detailCell height="34" rowSpan="1">
                  <textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
                    <reportElement style="table-td" x="0" y="0" width="90" height="34" uuid="886cc7fc-bd37-458f-acc5-9f37a425bb68"/>
                    <textFieldExpression><![CDATA[$F{started-at}]]></textFieldExpression>
                  </textField>
                </jr:detailCell>
              </jr:column>
              <jr:column width="90" uuid="1debe2d5-cac6-44bc-b057-d7b0a7027051">
                <jr:columnHeader height="47" rowSpan="1">
                  <staticText>
                    <reportElement style="table-th" x="0" y="0" width="90" height="47" uuid="fe703a12-f3c9-4bbc-8f92-819c77939758"/>
                    <text><![CDATA[fin]]></text>
                  </staticText>
                </jr:columnHeader>
                <jr:columnFooter height="34" rowSpan="1"/>
                <jr:detailCell height="34" rowSpan="1">
                  <textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
                    <reportElement style="table-td" x="0" y="0" width="90" height="34" uuid="536e24ca-4203-43ea-9a44-eb1d679a5414"/>
                    <textFieldExpression><![CDATA[$F{stopped-at}]]></textFieldExpression>
                  </textField>
                </jr:detailCell>
              </jr:column>
              <jr:column width="90" uuid="5324aabf-5572-48c6-88d2-5e74e9065785">
                <jr:columnHeader height="47" rowSpan="1">
                  <staticText>
                    <reportElement style="table-th" x="0" y="0" width="90" height="47" uuid="3492c2f8-9e14-46a4-a684-e5827127dda8"/>
                    <text><![CDATA[durée de la période(jour)]]></text>
                  </staticText>
                </jr:columnHeader>
                <jr:columnFooter height="34" rowSpan="1"/>
                <jr:detailCell height="34" rowSpan="1">
                  <textField pattern="###0.00" isBlankWhenNull="true">
                    <reportElement style="table-td" x="0" y="0" width="90" height="34" uuid="433cf9cb-860e-4707-abde-1ad20981414e"/>
                    <textFieldExpression><![CDATA[$F{pasturing-period}]]></textFieldExpression>
                  </textField>
                </jr:detailCell>
              </jr:column>
              <jr:column width="90" uuid="4ca7bb30-e6f5-447b-ad40-d7c9e4580c18">
                <jr:columnHeader height="47" rowSpan="1">
                  <staticText>
                    <reportElement style="table-th" x="0" y="0" width="90" height="47" uuid="dba5b8db-3a71-467e-82c9-5810f50700f3"/>
                    <text><![CDATA[troupeau (population)]]></text>
                  </staticText>
                </jr:columnHeader>
                <jr:columnFooter height="34" rowSpan="1"/>
                <jr:detailCell height="34" rowSpan="1">
                  <textField>
                    <reportElement style="table-td" x="0" y="0" width="90" height="34" uuid="62f0b05d-8302-41dd-b6de-8e371c1ea29b"/>
                    <textFieldExpression><![CDATA[$F{animal-group-name} + " ( " + $F{animal-group-population} + " )"]]></textFieldExpression>
                  </textField>
                </jr:detailCell>
              </jr:column>
              <jr:column width="127" uuid="146797ef-788d-439e-aeaf-37dec0ef9531">
                <jr:columnHeader height="47" rowSpan="1">
                  <staticText>
                    <reportElement style="table-th" x="0" y="0" width="127" height="47" uuid="569cbb14-b865-4c21-96cb-6dfb5488ccf2"/>
                    <text><![CDATA[Azote total excrété sur la période(kg N)]]></text>
                  </staticText>
                </jr:columnHeader>
                <jr:columnFooter height="34" rowSpan="1"/>
                <jr:detailCell height="34" rowSpan="1">
                  <textField pattern="###0.00" isBlankWhenNull="true">
                    <reportElement style="table-td" x="0" y="0" width="127" height="34" uuid="f8c34863-4372-4cf0-85d4-11571a8159f1"/>
                    <textFieldExpression><![CDATA[$F{nitrogen-input}]]></textFieldExpression>
                  </textField>
                </jr:detailCell>
              </jr:column>
              <jr:column width="90" uuid="afdba5b7-cab1-4157-b255-12cd2db86cfb">
                <jr:columnHeader height="47" rowSpan="1">
                  <staticText>
                    <reportElement style="table-th" x="0" y="0" width="90" height="47" uuid="39072312-7847-49a1-a145-9bad3fe93770"/>
                    <text><![CDATA[superficie paturée (ha)]]></text>
                  </staticText>
                </jr:columnHeader>
                <jr:columnFooter height="34" rowSpan="1"/>
                <jr:detailCell height="34" rowSpan="1">
                  <textField pattern="###0.00" isBlankWhenNull="true">
                    <reportElement style="table-td" x="0" y="0" width="90" height="34" uuid="ee772587-30ef-46d3-abda-098ccfc5d463"/>
                    <textFieldExpression><![CDATA[$F{pasturing-working-area}]]></textFieldExpression>
                  </textField>
                </jr:detailCell>
              </jr:column>
              <jr:column width="112" uuid="1d7cee8a-e114-4c56-9f51-bb9596c84beb">
                <jr:columnHeader height="47" rowSpan="1">
                  <staticText>
                    <reportElement style="table-th" x="0" y="0" width="112" height="47" uuid="55e3c43a-5bb4-42a0-920c-de9e0a70b444"/>
                    <text><![CDATA[azote excrété (kg N / ha)]]></text>
                  </staticText>
                </jr:columnHeader>
                <jr:columnFooter height="34" rowSpan="1">
                  <textField pattern="###0.00" isBlankWhenNull="true">
                    <reportElement style="strong" x="0" y="0" width="112" height="34" uuid="f4d366e1-40c8-45d2-9fcd-d5f5db7105f6"/>
                    <textElement textAlignment="Center" verticalAlignment="Middle"/>
                    <textFieldExpression><![CDATA[$V{sum_pasturing_n_per_ha}]]></textFieldExpression>
                  </textField>
                </jr:columnFooter>
                <jr:detailCell height="34" rowSpan="1">
                  <textField pattern="###0.00" isBlankWhenNull="true">
                    <reportElement style="table-td" x="0" y="0" width="112" height="34" uuid="ef98480a-26d0-4450-a4ed-f0805243097b"/>
                    <textElement textAlignment="Center" verticalAlignment="Middle"/>
                    <textFieldExpression><![CDATA[$F{nitrogen-input-per-hectare}]]></textFieldExpression>
                  </textField>
                </jr:detailCell>
              </jr:column>
            </jr:columnGroup>
          </jr:columnGroup>
        </jr:table>
      </componentElement>
    </band>
  </detail>
  <pageFooter>
    <band height="26" splitType="Stretch">
      <textField evaluationTime="Report">
        <reportElement style="base" x="751" y="3" width="35" height="22" forecolor="#000000" uuid="50272410-1b25-4669-88c3-3be64f156f82"/>
        <textElement verticalAlignment="Middle">
          <font fontName="Open Sans"/>
        </textElement>
        <textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
      </textField>
      <textField pattern="dd/MM/yyyy HH.mm.ss">
        <reportElement style="base" mode="Transparent" x="2" y="4" width="115" height="22" forecolor="#000000" uuid="ebf60a3b-b81b-4ee3-b94d-a83ae04dd811"/>
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font fontName="Open Sans"/>
        </textElement>
        <textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
      </textField>
      <textField>
        <reportElement style="base" x="708" y="3" width="43" height="22" forecolor="#000000" uuid="342f7ef7-5da8-4d85-baf2-2c7968aecaed"/>
        <textElement textAlignment="Right" verticalAlignment="Middle">
          <font fontName="Open Sans"/>
        </textElement>
        <textFieldExpression><![CDATA[$V{PAGE_NUMBER}+" /"]]></textFieldExpression>
      </textField>
      <staticText>
        <reportElement style="strong" mode="Opaque" x="117" y="13" width="591" height="2" backcolor="#7C9DDD" uuid="3740387f-1656-45d4-b5a7-a671b9df52d6"/>
        <textElement verticalAlignment="Middle">
          <font pdfFontName="Open Sans"/>
        </textElement>
        <text><![CDATA[]]></text>
      </staticText>
      <textField>
        <reportElement style="address" x="277" y="1" width="224" height="25" uuid="92ee893d-7bd3-4e16-a070-96522f1fc0e7"/>
        <textElement textAlignment="Center" verticalAlignment="Top"/>
        <textFieldExpression><![CDATA[$F{entity_name}]]></textFieldExpression>
      </textField>
    </band>
  </pageFooter>
  <lastPageFooter>
    <band height="26">
      <staticText>
        <reportElement style="strong" mode="Opaque" x="117" y="13" width="591" height="2" backcolor="#7C9DDD" uuid="6a745fd5-25a2-4de3-87b6-1d920ef1a4c0"/>
        <textElement verticalAlignment="Middle">
          <font pdfFontName="Open Sans"/>
        </textElement>
        <text><![CDATA[]]></text>
      </staticText>
      <textField evaluationTime="Report">
        <reportElement style="base" x="751" y="3" width="35" height="22" forecolor="#000000" uuid="c5669d5d-31af-4dd7-bf88-534422b21b01"/>
        <textElement verticalAlignment="Middle">
          <font fontName="Open Sans"/>
        </textElement>
        <textFieldExpression><![CDATA[" " + $V{PAGE_NUMBER}]]></textFieldExpression>
      </textField>
      <textField pattern="dd/MM/yyyy HH.mm.ss">
        <reportElement style="base" mode="Transparent" x="2" y="4" width="115" height="22" forecolor="#000000" uuid="a98f0540-b3f2-4380-aab0-f9d96ea72b6e"/>
        <textElement textAlignment="Center" verticalAlignment="Middle">
          <font fontName="Open Sans"/>
        </textElement>
        <textFieldExpression><![CDATA[new java.util.Date()]]></textFieldExpression>
      </textField>
      <textField>
        <reportElement style="base" x="708" y="3" width="43" height="22" forecolor="#000000" uuid="5de70a0c-bd99-4937-84fa-c172a5df272f"/>
        <textElement textAlignment="Right" verticalAlignment="Middle">
          <font fontName="Open Sans"/>
        </textElement>
        <textFieldExpression><![CDATA[$V{PAGE_NUMBER}+" /"]]></textFieldExpression>
      </textField>
    </band>
  </lastPageFooter>
</jasperReport>
